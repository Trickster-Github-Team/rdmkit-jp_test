## **データ収集時のストレージに必要な機能とは？**

### **概要**

データの収集や生成を開始する際には、データを置くスペースが必要になるため、データ保管の必要性は研究プロジェクトの早い段階で生じます。したがって、データ管理の計画段階でストレージソリューションについて考え、事前にストレージを要求したり、そのための費用を支払ったりするのが良い方法です。

データ用のストレージソリューションは、一定の基準（スペース、アクセスおよび転送速度、保存期間など）を満たす必要があり、<span>IT</span>チームと協議する必要があります。アクセス、パフォーマンス、リカバリー、コストなどの要件に基づいて、さまざまなタイプのストレージメディアにデータを割り当てる階層型ストレージシステムを選択することができます。階層型ストレージを使用すると、重要度に応じてデータを分類し、適切なストレージ階層に割り当てたり、別の階層に移動させたりすることができます。例えば、分析が完了したら、保存やアーカイブのためにデータを下位の階層に移動させることができます。

階層型ストレージは、「コールド」または「ホット」ストレージに分類されます。「ホット」ストレージは、アクセス速度が速く、アクセス頻度が高く、価値の高いデータに関連しており、<span>SSD</span>（<span>Solid State Drive</span>）などの高速ドライブで構成されています。このストレージは通常、キャンパス内などユーザーの近くに設置され、高いコストがかかります。「コールド」ストレージは、アクセス速度と頻度が低く、低速のドライブやテープで構成されています。このストレージは、通常、構内外に設置され、コストは低く抑えられています。

### **考察**

収集や生成の段階でデータを保存するためのソリューションを探す場合、以下の点を考慮する必要があります。

* データの量は、適切なストレージソリューションを決定するための重要な判断材料となります。最低でも、生成または収集する生データの量を見積もるようにしましょう。
* また、データにはどのようなアクセス<span>/</span>転送速度やアクセス頻度が必要なのでしょうか？
* データがどこから来るのかを知ることも重要です。データが外部の施設から来る場合や、別のサーバーに転送する必要がある場合は、適切なデータ転送方法を考える必要があります。
* オリジナルの生データのコピーを別の場所に置いて、手を加えず、変更しない（編集できない）ようにしておくのは良い方法です。
* 生データだけでなく、データ処理パイプラインや解析ワークフローをどのくらいの期間保存する必要があるのかを知ることは、特にプロジェクト終了後の保存にも関連する側面です。
* 識別子やファイル記述などのメタデータをデータに関連付けることを強く推奨します（[文書化とメタデータ](/metadata_management)のページを参照。これは、何年か後にデータを検索したい場合や、データを同僚と共有して共同作業を行う必要がある場合に役立ちます。メタデータは必ずデータと一緒に保管するか、データとメタデータのファイルの間に明確なリンクを設定しましょう。
* 読み取り専用の生データ（メタデータ）ファイルに加えて、データの処理や分析に使用したファイルや、データの作成に使用したワークフローやプロセスを保存する必要があります。これらについては、以下を検討する必要があります。

    * 誰がデータへのアクセスを許可されているのか（共同プロジェクトの場合）、どのようにデータにアクセスするのか、どのような目的でアクセスするのか。
    * 法律上の制限や第三者の権利がある場合（産業界との共同研究の場合など）、データへのアクセスを許可する権利があるかどうかを確認します。
    * 研究所／国外でのデータ共有に関する方針を確認します（[コンプライアンスの監視および測定](/compliance_monitoring)のページを参照）。

* 変更内容の追跡（バージョン管理）、競合の解決（コンフリクトの解消）、バックトレース機能。

### **ソリューション**

* 研究所の<span>IT</span>部門とストレージソリューションの相談をする際には、生データの容量についての見積もりがあると良いでしょう。
* データをある場所から別の場所に転送する必要があるかどうかを明確にします。データが送られてくるシステムについて、できるだけ多くの情報を<span>IT</span>部門に提供します。その他の情報は、[データ転送](https://rdmkit.elixir-europe.org/data_transfer.html) (英語版) のページをご覧ください。
* 処理や分析のためにデータに簡単かつ迅速にアクセスできるような、階層型のストレージソリューションを求めます。データにアクセスするために必要なマシンやインフラを<span>IT</span>部門に説明し、他の研究者もアクセスする必要があるかどうかを確認します（共同プロジェクトの場合）。
* ストレージソリューションに、バージョン管理、競合の解決（コンフリクトの解消）、バックトレースの自動管理機能が含まれているかどうか尋ねます（[データ整理](/data_organisation)のページも参照）。
* 研究所の<span>IT</span>部門に、データのコピーを安全かつ無傷に保つための技術的なソリューション（スナップショット、読み取り専用アクセス、バックアップ<span>...</span>）を提供しているかどうか尋ねます。また、元のデータファイルのコピーを別のフォルダに「読み取り専用」で保存することもできます。
* 少量のデータファイルや、研究所内の個人的なプロジェクトや共同プロジェクトのためには、通常、機関リポジトリや<span>NextCloud</span>（オンプレミス）、<span>Microsoft OneDrive</span>、<span>DropBox</span>、<span>Box</span>など、一般的にアクセス可能なクラウドストレージが研究所から提供されています。この目的のために類似サービスの個人アカウントを使用せず、研究所のポリシーに従います。
* 生データやデータ解析ワークフロー（再現性のある結果を得るため）を、プロジェクト終了後も一定期間保存することは、資金提供者や大学からの要求でもあります（[ライフサイクル-保存](/preserving)のページを参照）。[日本では通常<span>10</span>年間の保存を原則としています](https://www.scj.go.jp/ja/info/kohyo/pdf/kohyo-23-k150306.pdf)。プロジェクトや研究所のデータポリシーを確認して、データのコピーをプロジェクト終了後の一定期間、研究所でも保管すべきかどうかを確認します。これにより、保管コストの予算化が可能になり、<span>IT</span>サポートが必要なストレージリソースの見積もりに役立ちます。
* データと一緒に適切なドキュメント（例：<span>README</span>ファイルなど）とメタデータを必ず作成します。フォルダ構造、ファイル名、バージョン管理システムのベストプラクティスに従います（[データ整理](/data_organisation)のページを参照）。<span>GitHub</span>や<span>GakuNin RDM</span>、<span>iRODS</span>、<span>DataVerse</span>、<span>FAIRDOM-SEEK</span>、<span>OSF</span>などのデータ管理システムが提供されているかどうかを確認します。

## **データ処理や分析のための計算機資源をどのように見積もるのか？**

### **概要**

データを処理・分析するためには、計算機資源へのアクセスが必要となります。計算資源には、お手持ちのノートパソコン、ローカルの計算クラスター、ハイパフォーマンス・コンピューティング（<span>HPC</span>）のインフラなどがあります。しかし、あるプロセスや分析に必要な計算リソースの量を見積もるのは難しいものです。

### **考察**

以下に、データの処理や分析に必要な計算機資源を見積もるために考慮すべき点を示します。

* 総データ量は、必要な計算機資源を見積もるための重要な判断材料となります。
* どのくらいのデータ量が「同時または一度に」必要なのかを考えてみましょう。例えば、大規模なデータセットを、一度にデータの一部だけをダウンロードまたはアクセスして分析する可能性を検討します（例：<span>500TB</span>の大規模データセットから一度に<span>1TB</span>をストリーミングする）。
* ストレージと計算機の間の接続に必要な速度と信頼性を定義します。
* どのソフトウェアを使用するかを決めます。プロプライエタリなソフトウェアであれば、ライセンスの問題を確認する必要があります。<span>特定のオペレーティングシステム（Windows、Mac、Linuxなど）でしか動作しないかどうかも確認します</span>。
* 必要な参照データがあるかどうか、またどのような参照データが必要かを確認します。
* 共同プロジェクトの場合は、誰がデータや解析用の計算機資源にアクセスできるかを定義します（可能であれば、どのようなデバイスからアクセスできるかを指定します）。異なる国間でのデータアクセスに関するポリシーを確認します。バージョニングシステムの確立を試みます。

### **ソリューション**

* 以下のボリュームを推定してみます：

  * プロセス／分析に必要な生データファイル。
  * 計算機分析中に中間ファイルとして生成されたデータファイル。
  * 結果データファイル
* <span>ストレージと計算機の接続</span>のスピードと信頼性についての期待値を<span>IT部門</span>に伝えます。これは、計算機システムとストレージシステムが使用している通信プロトコルに依存する可能性があります。
* 解析にかかる時間については、以前に同様の作業を行ったことのある同僚やソフトウェアのサポートに問い合わせることをお勧めします。これにより、費用と時間を節約することができます。
* 参照データセット（例：ヒトゲノムなどの参照ゲノム）が必要な場合は、<span>IT</span>部門が提供しているかどうか聞いてみるか、データ探索の専門家に相談して、自動で参照データセットを検索できるようにしてもらいます。
* 少量のデータファイルや個人的なプロジェクトの場合、自分のノートパソコンの計算機資源を使うのは問題ないかもしれないが、<span>Galaxy</span>や<span>R Markdown</span>などのデータ解析ソフトウェアを使って、自分の研究の再現性を保つようにします。
* データ量が少なく、小規模な共同プロジェクトの場合は、<span>Nextcloud</span>（オンプレミス）や<span>Owncloud</span>など、一般的にアクセス可能なクラウドストレージを利用するとよいです。所属する研究機関のポリシーに従いましょう。
* 大容量のデータや大規模な共同プロジェクトの場合は、複数のユーザーがアクセスできる計算機資源と密接に結びついた、高速なハードウェア上の大容量ストレージが必要です。

## **プロジェクト終了後、データはどこに保存すればよいのか？**

### **概要**

プロジェクト終了後、（再現性を保証するための）すべての関連（メタ）データは、通常、資金提供者や研究機関の方針によって定められた一定期間、保存されるべきです。しかし、積極的な処理や分析に必要のないデータをどこに保存するかは、データ管理の共通の課題です。

### **考察**

* データ保存とは、場所や特定の保存方法を指すのではなく、データを「どのように」保存するかを意味しています。保存のページで説明しているように、データを保存するためには、さまざまな技術的スキルを持った人が多くの注意事項を実行する必要があります。
* プロジェクト終了後に保存しなければならない（メタ）データファイルの容量を見積もります。データ量を最小限にするために、圧縮ファイル形式の使用を検討します。
* 将来的にデータの再解析が必要になった場合に待つことができる時間（数時間、数日<span>...</span>）を定義します。
* 自分のデータを公共のデータリポジトリで公開することは良い習慣です。通常、リポジトリでのデータ公開は、科学雑誌や資金提供者からの要求です。リポジトリはあなたのデータを長期間保存し、時には無料で提供されます。詳しくは、[データ公開](/data_publication)のページをご覧ください。
* 研究機関や大学では、データ保存に関する特定の方針を定めている場合があります。例えば、同じデータが公開されている場合でも、プロジェクト終了後数年間は内部でデータを保存するよう、研究所から求められることがあります。

### **ソリューション**

* データ保存に関する資金提供者または機関の方針、データ量、検索時間に基づいて、<span>IT</span>チームが提供できる保存ソリューション（例：自国でのデータアーカイブサービス）とその費用を検討し、予算を見積もります。
* 公共のリポジトリにデータを公開すれば、そのリポジトリがデータを保存してくれます。